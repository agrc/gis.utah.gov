---
import RightArrow from './RightArrow.astro';

interface Props {
  href: string;
  decorate?: 'arrow';
  // status?: 'idle' | 'loading' | 'success' | 'error' | 'disabled';
  // style?: 'outline' | 'solid';
  color?: 'primary' | 'secondary' | 'accent';
}

const { href, decorate, color = 'primary' } = Astro.props;
const list = [
  'custom-style',
  'relative',
  'flex',
  'flex-nowrap',
  'min-h-9',
  'cursor-pointer',
  'items-center',
  'justify-center',
  'rounded-full',
  'border-2',
  'border-zinc-400',
  'px-8',
  'no-underline',
  'transition-all',
  'transition-500',
  'hover:contrast-125',
  'hover:shadow',
  'hover:border-zinc-600',
  'active:scale-95',
  'active:shadow-inner',
  'focus:outline-none',
  'focus:ring-4',
  'focus:border-transparent',
  'focus:ring-accent',
  'focus:transition-none',
  'dark:border-zinc-400/30',
  'dark:hover:border-white/30',
];

if (color === 'primary') {
  list.push('bg-primary');
  list.push('text-zinc-50');
} else if (color === 'secondary') {
  list.push('bg-secondary');
  list.push('text-zinc-50');
} else if (color === 'accent') {
  list.push('bg-accent');
  list.push('text-zinc-50');
}
---

<a href={href} class:list={list}>
  <button type="button" tabindex="-1">
    <span class="inline-flex flex-wrap items-center gap-x-1">
      <slot />
      {
        decorate === 'arrow' && (
        <>
          {href.startsWith("/") ? <RightArrow /> : (
            <span aria-hidden="true">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-4"
                >
                <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"
                ></path>
                </svg>
                </span>
                <span class="sr-only">, opens in a new tab</span>
                )}
                </>
                )
    }
    </span>
  </button>
</a>
