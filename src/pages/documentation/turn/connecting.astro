---
import { Pillar, type IStandardPageMetadata } from '@models/products/sgid/types';

import Layout from '@layouts/FullWidth.astro';

import BreadCrumbs from '@components/page/BreadCrumbs.astro';
import BulletedList from '@components/page/BulletedList.astro';
import Contacts from '@components/page/Contacts.astro';
import ExternalLink from '@components/page/ExternalLink.astro';
import QuickLinks from '@components/page/QuickLinks.astro';
import Section from '@components/page/Section.astro';

import { YouTube } from '@astro-community/astro-embed-youtube';

import { stripeSections } from '@utils/page';

const page: IStandardPageMetadata = {
  pageTitle: 'Getting connected',
  pageDescription: 'Information on how to get connected to the TURN and Nevada GPS networks.',
  pillar: Pillar.DOCUMENTATION,
  section: stripeSections([
    { title: 'Getting connected' },
    { title: 'TURN network' },
    { title: 'Nevada network' },
    { title: 'Support contacts' },
  ]),
};
---

<Layout {...page}>
  <BreadCrumbs path={Astro.url.pathname} slot="crumbs" />
  <QuickLinks links={page.section} slot="quick-links" />
  <Section {...page.section[0]}>
    <p>
      To create a new subscription or renew an existing subscription for Nevada GPS, you'll need to provide the
      following information:
    </p>
    <BulletedList>
      <li>the name of your organization (avoid punctuation);</li>
      <li>a login/username;</li>
      <li>a password (8 characters);</li>
      <li>
        a contact name, email address (once you add in your email address, it will be associated/connected with your
        account and can't be used again), and phone number;
      </li>
      <li>your physical location/address; and</li>
      <li>your mailing address.</li>
    </BulletedList>
    <p>
      To pay for your subscription, visit the <ExternalLink href="https://turngps-billpay.ugrc.utah.gov/"
        >TURN GPS Bill Pay system</ExternalLink
      > to access the online payment portal. The cost is $600 and gives you access to TURN GPS Network also. You'll need
      a credit card to process your payment.
    </p>
    <BulletedList>
      <li>Select “Register” on the navigation pane on the left-hand side of the page.</li>
      <li>
        Click the “New Registration” button. (Note: Both new subscriptions and renewed subscriptions for Nevada GPS are
        considered “new” to the TURN system.)
      </li>
      <li>Review the Terms and Conditions, and then click “I agree” to continue.</li>
      <li>
        Fill out all the required fields, including the name of your organization, your login/username, a password for
        your TURN GPS account, and your personal contact information.
      </li>
      <li>Click “Register” to create your account.</li>
    </BulletedList>
    <p>
      At this point, the system will direct you to the payment page. Make sure that you have your payment information
      readily available, as the system will automatically time out after a while, requiring you to start over with a
      whole new login/username, password, and email. If the system keeps coming back with the password field empty, the
      system may think that your email is already in use and, therefore, will not allow you to move forward. Each
      subscription needs a unique email address (even if it is a made-up one [e.g., gps_login@BobsBigBurger.com]).
    </p>
    <p>
      After you have created/renewed and paid for your subscription, you will receive an email with a receipt. It
      typically takes the system about 24 hours to process a payment and activate an account for fieldwork using the
      TURN GPS Network.
    </p>
    <div class="mx-auto w-full max-w-4xl">
      <YouTube
        class="aspect-video max-w-full rounded-lg border-2 border-black shadow-xl"
        id="T4Q2eqrrbXQ"
        playlabel="TURN Bill Pay System tutorial video"
      />
    </div>
  </Section>
  <Section {...page.section[1]}>
    <p>
      The TURN GPS Network, which serves Utah and some areas of surrounding states with 113 sensors. We are currently in
      the process of expanding this network in Utah, Idaho, and Wyoming. The TURN Network runs on the Trimble Pivot
      Platform. You may Login using your User Name and Password. If you don't have an account yet, you can register on
      the <ExternalLink href="https://turngps-billpay.ugrc.utah.gov/">TURN GPS billpay system website</ExternalLink>. If
      you haven't already, you will need to create a <ExternalLink href="https://id.utah.gov/">Utah ID</ExternalLink>.
    </p>
    <p>
      TURN GPS is a statewide network of permanently located GPS receivers, which provides both real time corrections
      and data for post processing to those that have an active subscription. Current cost is $600 for each User Login
      and is good for a full year.
    </p>
    <BulletedList>
      <li><strong>The Coordinate Reference Frame for this network is NAD83(2011)(EPOCH:2010.0000.)</strong></li>
      <li><strong>Connections: IP address - 165.239.144.5 Port - 2101</strong></li>
    </BulletedList>
    <p>The following is a list of the new Source Table Mountpoints with a brief definition:</p>
    <BulletedList>
      <li>
        GNSS-VRS-NAD83-RTCM32 (Full GNSS network solution including GPS, Glonass, Galileo, BeiDou with RTCM32 output
        format) (*Recommended for the majority of all users*)
      </li>
      <li>GNSS-VRS-NAD83-CMRx (Full GNSS network solution including GPS, Glonass, Galileo with CMRx output format)</li>
      <li>VRS-NAD83-CMRp (Full network solution including GPS, Glonass with CMRp output format)</li>
      <li>VRS-NAD83-CMRx (Full network solution including GPS, Glonass with CMRx output format)</li>
      <li>VRS-NAD83-RTCM31 (Full network solution including GPS, Glonass with RTCM31 output format)</li>
      <li>VRS-NAD83-RTCM32 (Full network solution including GPS, Glonass with RTCM32 output format)</li>
      <li>
        MS-NAD83-CMRp (Single base solution from the closest base, determined by the system, including GPS, Glonass with
        CMRp output format)
      </li>
      <li>
        MS-NAD83-CMRx (Single base solution from the closest base, determined by the system, including all available
        satellite constellations from that receiver with CMRx output format)
      </li>
      <li>
        MS-NAD83-RTCM31(Single base solution from the closest base, determined by the system, including all available
        satellite constellations from that receiver with RTCM31 output format)
      </li>
      <li>
        MS-NAD83-RTCM32 (Single base solution from the closest base, determined by the system, including all available
        satellite constellations from that receiver with RTCM32 output format)
      </li>
    </BulletedList>
    <p>
      Mountpoints that begin with MS are single base line solutions with the system automatically choosing the closest
      base station.
    </p>
  </Section>
  <Section {...page.section[2]}>
    <p>
      The Nevada GPS Network (formerly Washoe County GPS Network) is now being managed by the State of Utah. The Nevada
      GPS Network provides users with real time corrections and data for post processing. The Coordinate Reference Frame
      for this network is NAD83/94 (HARN). The Latitude, Longitude and Ellipsoidal Height of each reference station was
      calculated by processing 24 hour files using the National Geodetic Survey (NGS) Online Positioning User Service
      (OPUS) Projects application.
    </p>
    <p>
      With an activated subscription, set your GPS unit's VRS connection address to <strong>168.179.231.11</strong> and <strong
        >port 2102.</strong
      > Enter your new device-specific username and password.
    </p>
    <h4>Connections from Source Table</h4>
    <p>For Trimble units we have three different connections:</p>
    <BulletedList>
      <li>VRS_CMR works older Trimble unit</li>
      <li>VRS_CMRp works with Trimble units that are newer but may not have the latest updates to the firmware</li>
      <li>VRS_CMRx works with the newest up to date Trimble units</li>
    </BulletedList>
    <p>For non-Trimble units we have:</p>
    <BulletedList>
      <li>VRS_RTCM23 works older non-Trimble unit</li>
      <li>VRS_RTCM31 works with non-Trimble units</li>
      <li>VRS_RTCM3.2 works with non-Trimble units, gives a full GNSS solution (all available satellites)</li>
    </BulletedList>
    <p>
      MS_CMR, MS_CMRP, MS_RTCM3.2 these are for connecting to single base when you are on the edge of the network or not
      getting a strong network solution. System will automatically find the closest station and connect you.
    </p>
    <h4>Rinex File Downloads</h4>
    <p>
      The Nevada GPS network is providing 24 hour Rinex files with 5 second epoch available for download here: Nevada
      GPS Rinex Download Due to storage limits, files can only be stored for a 90 day period, than they are permanently
      deleted.
    </p>
  </Section>
  <Section {...page.section[3]}>
    <p>
      If you have questions or require help contact the <Contacts
        contactKey="turn"
        subject="connecting to TURN"
        inline
      />.
    </p>
  </Section>
</Layout>
