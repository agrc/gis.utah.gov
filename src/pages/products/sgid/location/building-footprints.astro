---
import Layout from '@layouts/DataPage.astro';

import type { IMetadata, IPageMetadata } from '@models/products/sgid/types';
import { ProductType, SgidCategory } from '@models/products/sgid/types';

import Disclaimer from '@components/data/Disclaimer.astro';
import HubDownloads from '@components/data/HubDownloads.astro';
import Metadata from '@components/data/Metadata.astro';
import UpdateHistory from '@components/data/UpdateHistory.astro';

import CardWithPopularLink from '@components/page/CardWithPopularLink.astro';
import CardWithSmallLink from '@components/page/CardWithSmallLink.astro';
import ExternalLink from '@components/page/ExternalLink.astro';
import GridForMoreResources from '@components/page/GridForMoreResources.astro';
import GridForYouMightLike from '@components/page/GridForYouMightLike.astro';
import Section from '@components/page/Section.astro';

import { dataPages } from '@data/downloadMetadata';

export const metadata: IMetadata = {
  title: 'Utah Building Footprints',
  description: `Polygons representing the two-dimensional area on the ground that is covered by a building.`,
  stewards: ['UGRC', 'Microsoft'],
  type: ProductType.POLYGON,
  category: SgidCategory.LOCATION,
};

const page: IPageMetadata = {
  ...metadata,
  updateHistory: ['October 2018'],
  hub: {
    ...dataPages['Utah Buildings'],
  },
};
---

<Layout
  pageTitle={page.title}
  subTitle={page.updateHistory[0]}
  category={page.category}
  actionUrl={page.application}
  pageDescription={page.description}
>
  <Metadata slot="metadata" {...page} />

  <Fragment slot="summary">
    <p>
      Utah Buildings was derived from building footprints created by Microsoft for all 50 States. This dataset contains
      building footprints generated by computer vision algorithms on satellite imagery.
    </p>
  </Fragment>

  <Section title="Use the data" slot="downloads" titlePosition="center">
    <HubDownloads {...page.hub} />
  </Section>

  <Fragment slot="description">
    <p>
      In some cases the pixel prediction algorithm used by Microsoft identified and created building footprints where no
      building existed. To flag potential errors, building footprints within 750 meters of <ExternalLink
        href="https://opendata.gis.utah.gov/datasets/061407fed6324bcfabf1813764caef0a_0/explore"
        >known populated areas</ExternalLink
      > and within 500 meters of an <ExternalLink
        href="https://opendata.gis.utah.gov/datasets/3f4f7a8efcd147febeca8bacaea67a14_0/explore"
        >address point</ExternalLink
      > were selected and identified as possible buildings in the <em>TYPE</em> field. In addition, attributes were added
      for address, city, county, and zip where possible.
    </p>
  </Fragment>

  <UpdateHistory slot="update-history" updates={page.updateHistory} style="secondary" />

  <Disclaimer slot="disclaimer" style="secondary">
    <p>
      This data is created and licensed by Microsoft under the <ExternalLink
        href="https://opendatacommons.org/licenses/odbl/">Open Data Commons Open Database License (ODbL)</ExternalLink
      >. Schema and attributes provided by UGRC.
    </p>
  </Disclaimer>

  <Section title="More resources" slot="more-resources" titlePosition="center">
    <GridForMoreResources>
      <CardWithPopularLink title="US building footprints" href="https://github.com/microsoft/USBuildingFootprints"
        >Microsoft GitHub repository for US building footprints.</CardWithPopularLink
      >
      <CardWithPopularLink
        title="Global building footprints"
        href="https://github.com/microsoft/GlobalMLBuildingFootprints"
        >Microsoft GitHub repository for global building footprints.</CardWithPopularLink
      >
    </GridForMoreResources>
  </Section>

  <Section title="You might also like" slot="you-might-also-like" stripe titlePosition="center">
    <GridForYouMightLike>
      <CardWithSmallLink
        title="Roads"
        href="Transportation"
        href="/products/sgid/transportation/road-centerlines"
        style="secondary">Road centerlines</CardWithSmallLink
      >
      <CardWithSmallLink title="OpenSourcePlaces" href="/products/sgid/society/open-source-places" style="secondary"
        >OSM places or interest</CardWithSmallLink
      >
    </GridForYouMightLike>
  </Section>
</Layout>
