---
import Layout from '@layouts/DataPage.astro';

import type { IMetadata, IPageMetadata } from '@models/types';
import { ProductType, SgidCategory } from '@models/types';

import Disclaimer from '@components/data/Disclaimer.astro';
import HubDownloads from '@components/data/HubDownloads.astro';
import Metadata from '@components/data/Metadata.astro';
import UpdateHistory from '@components/data/UpdateHistory.astro';

import CardWithPopularLink from '@components/page/CardWithPopularLink.astro';
import CardWithSmallLink from '@components/page/CardWithSmallLink.astro';
import ExternalLink from '@components/page/ExternalLink.astro';
import GridForMoreResources from '@components/page/GridForMoreResources.astro';
import GridForYouMightLike from '@components/page/GridForYouMightLike.astro';
import Section from '@components/page/Section.astro';

import { dataPages } from '@data/downloadMetadata';

export const metadata: IMetadata = {
  pageTitle: 'Utah Building Footprints',
  pageDescription: `Polygons representing the two-dimensional area on the ground that is covered by a building.`,
  stewards: ['UGRC', 'Microsoft', 'OpenStreetMap'],
  type: ProductType.POLYGON,
  category: SgidCategory.LOCATION,
};

const page: IPageMetadata = {
  ...metadata,
  updateHistory: ['January 2026', 'October 2018'],
  hub: {
    ...dataPages['Utah Buildings'],
  },
};
---

<Layout {...page} subTitle={page.updateHistory[0]}>
  <Metadata slot="metadata" {...page} />

  <Fragment slot="summary">
    <p>
      Utah Buildings was derived from building footprints created by Microsoft for all 50 States and supplemented with
      buildings from OpenStreetMap. This dataset contains building footprints generated by computer vision algorithms on
      satellite imagery.
    </p>
  </Fragment>

  <Section title="Use the data" slot="downloads" titlePosition="center">
    <HubDownloads {...page.hub} />
  </Section>

  <Fragment slot="description">
    <p>
      In some cases the pixel prediction algorithm used by Microsoft identified and created building footprints where no
      building existed. To flag potential errors, building footprints within 750 meters of <ExternalLink
        href="https://opendata.gis.utah.gov/datasets/061407fed6324bcfabf1813764caef0a_0/explore"
        >known populated areas</ExternalLink
      > and within 500 meters of an <ExternalLink
        href="https://opendata.gis.utah.gov/datasets/3f4f7a8efcd147febeca8bacaea67a14_0/explore"
        >address point</ExternalLink
      > were selected and identified as possible buildings in the <em>TYPE</em> field. Additional buildings were added from
      <ExternalLink href="https://www.openstreetmap.org/">OpenStreetMap</ExternalLink> that were located more than three
      meters from already-existing buildings in the dataset. Finally, attributes were added for address, city, county, and
      ZIP code from other SGID data sources, where possible.
    </p>

    <UpdateHistory slot="update-history" updates={page.updateHistory} />

    <Disclaimer slot="disclaimer">
      <p>
        This data is created and licensed by Microsoft and the OpenStreetMap Foundation under the same <ExternalLink
          href="https://opendatacommons.org/licenses/odbl/1.0"
          >Open Data Commons Open Database License (ODbL)</ExternalLink
        >. Schema and attributes provided by UGRC.
      </p>
    </Disclaimer>

    <Section title="More resources" slot="more-resources" titlePosition="center">
      <GridForMoreResources>
        <CardWithPopularLink title="US building footprints" href="https://github.com/microsoft/USBuildingFootprints"
          >Microsoft GitHub repository for US building footprints.</CardWithPopularLink
        >
        <CardWithPopularLink
          title="Global building footprints"
          href="https://github.com/microsoft/GlobalMLBuildingFootprints"
          >Microsoft GitHub repository for global building footprints.</CardWithPopularLink
        >
      </GridForMoreResources>
    </Section>

    <Section title="You might also like" slot="you-might-also-like" stripe titlePosition="center">
      <GridForYouMightLike>
        <CardWithSmallLink title="Roads" href="Transportation" href="/products/sgid/transportation/road-centerlines/"
          >Road centerlines</CardWithSmallLink
        >
        <CardWithSmallLink title="Open Source Places" href="/products/sgid/society/open-source-places/"
          >OSM places or interest</CardWithSmallLink
        >
      </GridForYouMightLike>
    </Section>
  </Fragment>
</Layout>
