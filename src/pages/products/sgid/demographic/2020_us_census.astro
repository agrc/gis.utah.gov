---
import Layout from '@layouts/DataPage.astro';

import type { IMetadata, IPageMetadata } from '@models/products/sgid/types';
import { ProductType, SgidCategory } from '@models/products/sgid/types';

import HubDownloads from '@components/data/HubDownloads.astro';
import HubDownloadsLinksOnly from '@components/data/HubDownloadsLinksOnly.astro';
import Metadata from '@components/data/Metadata.astro';
import UpdateHistory from '@components/data/UpdateHistory.astro';

import CardWithPopularLink from '@components/page/CardWithPopularLink.astro';
import CardWithSmallLink from '@components/page/CardWithSmallLink.astro';
import GridForMoreResources from '@components/page/GridForMoreResources.astro';
import GridForYouMightLike from '@components/page/GridForYouMightLike.astro';
import Section from '@components/page/Section.astro';

import ExternalLink from '@components/page/ExternalLink.astro';
import { dataPages } from '@data/downloadMetadata';

export const metadata: IMetadata = {
  title: 'Utah 2020 Census Data',
  description: `Commonly-used Census Bureau data from the 2020 Census, including blocks, block groups, tracts, and places.`,
  stewards: ['UGRC', 'US Census Bureau'],
  type: ProductType.POLYGON,
  category: SgidCategory.DEMOGRAPHIC,
};

const page: IPageMetadata = {
  ...metadata,
  updateHistory: [`August 2021: Initial load`],

  hub: {
    ...dataPages[metadata.title],
  },
};
---

<Layout title={page.title} subTitle={page.updateHistory[0]} category={page.category} actionUrl={page.application}>
  <Metadata slot="metadata" {...page} />

  <Fragment slot="summary">
    <p>
      Boundary and demographic data collected by the U.S. Census Bureau for the 2020 census. Demographic data includes
      population counts, household counts, ethnicity counts, etc. These data are filtered to the state of Utah and
      follow the format released by the Census Bureau with just a few modifications for usability.
    </p>
  </Fragment>

  <!-- Update al this -->
  <Section title="Census Blocks" slot="downloads" titlePosition="center">
    <HubDownloads {...dataPages['Utah Census Blocks 2020']} />
  </Section>
  <Section title="Census Block Groups" slot="downloads" titlePosition="center" stripe>
    <HubDownloadsLinksOnly {...dataPages['Utah Census Block Groups 2020']} />
  </Section>
  <Section title="Census Tracts" slot="downloads" titlePosition="center">
    <HubDownloadsLinksOnly {...dataPages['Utah Census Tracts 2020']} />
  </Section>
  <Section title="Census Places" slot="downloads" titlePosition="center" stripe>
    <HubDownloadsLinksOnly {...dataPages['Utah Census Places 2020']} />
  </Section>
  <Section title="Census Counties" slot="downloads" titlePosition="center">
    <HubDownloadsLinksOnly {...dataPages['Utah Census Counties 2020']} />
  </Section>
  <Section title="Census State" slot="downloads" titlePosition="center" stripe>
    <HubDownloadsLinksOnly {...dataPages['Utah Census State 2020']} />
  </Section>

  <Fragment slot="description">
    <p>
      The data in this section contains census blocks, census Places, census tracts, census places, census counties, and
      the state boundary from the Census Bureau.
    </p>
    <p>
      Utah's 2020 census geographic boundaries became available in February 2021 and the demographic redistricting
      legacy files (the 2020 Census Redistricting P.L. 94-171 Summary Files) became available on August 12, 2021. The
      Census Bureau will release a more user-friendly version of the 2020 Census Redistricting P.L. 94-171 Summary Files
      on September 30, 2021. In the meantime, UGRC, with collaboration from the Analytics Group at <ExternalLink
        href="https://wfrc.org/">WFRC</ExternalLink
      >, has worked with the August 12 release and has created ready-to-use GIS data in several formats that hopefully
      make the 2020 redistricting data easier to use. Read more about these offerings in the blog post, <a
        href="/blog/2021-08-31-census-2020-redistricting-data"
        >2020 Census Redistricting Data in Easy to Use GIS Formats</a
      >
    </p>
    <p>
      The 2020 data available on this page was downloaded from the <ExternalLink
        href="https://www.census.gov/programs-surveys/decennial-census/about/rdo/summary-files.html#P2"
        >2020 Census Redistricting Data (P.L. 94-171)</ExternalLink
      > page. All 2020 census geographies reflect boundaries as of January 1, 2020. Additional GIS files and support products
      are available on the <ExternalLink
        href="https://www.census.gov/programs-surveys/decennial-census/about/rdo/summary-files.html#P2"
        >census redistricting data</ExternalLink
      > page.
    </p>
    <p>
      Geography is a fundamental aspect of the census, providing the framework for the once-a-decade count of population
      and housing. Read about some of the key geography changes in the Kem C. Gardner Policy Institute's 2020 census
      geography <ExternalLink href="https://gardner.utah.edu/blog-whats-new-in-utahs-census-2020-geography/"
        >blog</ExternalLink
      > and <ExternalLink href="https://gardner.utah.edu/wp-content/uploads/Geog-FS-Mar2021.pdf"
        >fact sheet</ExternalLink
      >.
    </p>
  </Fragment>

  <UpdateHistory slot="update-history" updates={page.updateHistory} style="secondary" />

  <Section title="More resources" slot="more-resources" titlePosition="center">
    <GridForMoreResources>
      <CardWithPopularLink title="Item 1" href="https://gis.utah.gov">Item 1 description.</CardWithPopularLink>
      <CardWithPopularLink title="Item 2" href="/products/sgid/address/">Item 2 description.</CardWithPopularLink>
    </GridForMoreResources>
  </Section>

  <Section title="You might also like" slot="you-might-also-like" stripe titlePosition="center">
    <GridForYouMightLike>
      <CardWithSmallLink title="Atlas" href="https://data.udot.utah.gov" style="secondary"
        >Description</CardWithSmallLink
      >
      <CardWithSmallLink title="Transportation" href="/products/sgid/transportation" style="secondary"
        >Description</CardWithSmallLink
      >
      <CardWithSmallLink title="Addresses" href="/products/sgid/address" style="secondary"
        >Description</CardWithSmallLink
      >
      <CardWithSmallLink title="Discover" href="/products/discover" style="secondary">Description</CardWithSmallLink>
    </GridForYouMightLike>
  </Section>
</Layout>
