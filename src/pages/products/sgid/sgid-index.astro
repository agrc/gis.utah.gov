---
import { SgidCategory } from '@models/products/sgid/types';

import startCase from 'lodash.capitalize';

import Layout from '@layouts/FullWidth.astro';

import CardForSgidIndex from '@components/data/CardForSgidIndex.astro';
import Section from '@components/page/Section.astro';

import { getStewardshipRecords } from '@utils/sgid.ts';

const records = await getStewardshipRecords();
---

<Layout title={`SGID index`}>
  <Section>
    <div>
      <input
        type="search"
        class="focus:border-primary-500 h-10 w-full rounded-md border border-zinc-300 px-2 py-1 text-zinc-700 shadow-sm transition-all duration-200 ease-in-out placeholder:text-zinc-400 focus:outline-none focus:ring focus:ring-primary/80 focus:ring-opacity-50 disabled:cursor-not-allowed disabled:opacity-50 sm:text-sm"
      />
      <div class="mt-4 flex flex-wrap justify-center gap-2">
        {
          Object.keys(SgidCategory).map((category) => (
            <span class="rounded-md border border-primary bg-white px-2 py-1 text-sm shadow-sm dark:border-white/20 dark:bg-primary">
              {startCase(category.toLowerCase().replaceAll('_', ' '))}
            </span>
          ))
        }
      </div>
      <hr class="my-8 h-px border-0 bg-primary/30 dark:bg-gray-700" />
    </div>
    {
      records.map((record, index) => (
        <CardForSgidIndex {...record} index={index}>
          {record.description}
        </CardForSgidIndex>
      ))
    }
  </Section>
</Layout>
